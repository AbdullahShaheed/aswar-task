{"version":3,"sources":["components/navbar.jsx","components/home.jsx","services/httpService.js","services/productService.js","components/common/qrcode.jsx","services/authService.js","components/productsTable.jsx","components/common/infoModal.jsx","components/products.jsx","components/common/form.jsx","components/common/input.jsx","components/productForm.jsx","components/loginForm.jsx","components/common/radio.jsx","components/registerForm.jsx","services/userService.js","components/logout.jsx","components/profile.jsx","components/notFound.jsx","app.js","index.js"],"names":["NavBar","user","className","NavLink","to","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","aria-current","name","Home","this","props","React","Component","axios","defaults","baseURL","process","interceptors","response","use","error","status","console","log","toast","Promise","reject","get","post","put","delete","setToken","token","headers","common","getProduct","productId","http","saveProduct","product","product_id","body","endpoint","deleteProduct","Qr","onClick","useState","src","setSrc","useEffect","QRCode","toDataURL","price","creationDate","then","data","email","password","a","localStorage","setItem","getToken","getItem","login","loginWithToken","logout","removeItem","getCurrentUser","jwtDecode","ex","isAdmin","role","ProductsTable","products","onDelete","onShow","onClose","map","p","key","Link","creation_date","auth","InfoModel","visisble","isOpen","fade","Object","keys","Products","state","modalVisible","toggleModal","visible","setState","handleDelete","originalProducts","filter","length","Fragment","Form","errors","validateField","value","obj","schema","Joi","validate","details","message","handleChange","e","errorMessage","currentTarget","handleRadioChange","target","handleSubmit","preventDefault","validateForm","doSubmit","result","abortEarly","item","path","Input","label","onChange","htmlFor","ProductForm","number","string","required","date","mapToProductModel","history","push","match","params","replace","onSubmit","disabled","Login","window","location","Radio","checked","Register","Logout","Profile","NotFound","App","Switch","Route","render","component","LoginForm","RegisterForm","Redirect","from","exact","ReactDOM","BrowserRouter","document","getElementById"],"mappings":"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","file":"static/js/main.a928888d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = ({ user }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <NavLink className=\"navbar-brand\" to=\"/home\">\r\n          Aswar\r\n        </NavLink>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNavAltMarkup\"\r\n          aria-controls=\"navbarNavAltMarkup\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n          <div className=\"navbar-nav\">\r\n            <NavLink className=\"nav-link \" aria-current=\"page\" to=\"/products\">\r\n              Products\r\n            </NavLink>\r\n            {!user && (\r\n              <>\r\n                <NavLink className=\"nav-link\" to=\"/login\">\r\n                  Login\r\n                </NavLink>\r\n                <NavLink className=\"nav-link\" to=\"/register\">\r\n                  Register\r\n                </NavLink>\r\n              </>\r\n            )}\r\n            {user && (\r\n              <>\r\n                <NavLink className=\"nav-link\" to=\"/profile\">\r\n                  {`Hi ${user.name}`}\r\n                </NavLink>\r\n                <NavLink className=\"nav-link\" to=\"/logout\">\r\n                  Logout\r\n                </NavLink>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Home Page</h1>\r\n        {!this.props.user && (\r\n          <div>\r\n            <p>\r\n              Please log in if you have an account or register if you have not.\r\n            </p>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <p>\r\n              Admin user ==> username: <b>user1@domain.com</b> &nbsp; &nbsp;\r\n              &nbsp; password:\r\n              <b>1234</b>\r\n            </p>\r\n            <p>\r\n              Common user ==> username: <b>user2@domain.com</b> &nbsp; &nbsp;\r\n              &nbsp; password:\r\n              <b>1234</b>\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.response.use(null, (error) => {\r\n  if (error.response && error.response.status >= 500) {\r\n    console.log(\"Logging the error: \", error);\r\n    toast.error(\"An unexpected error occurred.\");\r\n  }\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nfunction setToken(token) {\r\n  axios.defaults.headers.common[\"x-auth-token\"] = token;\r\n}\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n  setToken,\r\n};\r\n","import http from \"./httpService\";\r\n\r\nconst endpoint = \"/products\";\r\n\r\nexport function getProducts() {\r\n  return http.get(endpoint);\r\n}\r\n\r\nexport function getProduct(productId) {\r\n  return http.get(`${endpoint}/${productId}`);\r\n}\r\n\r\nexport function saveProduct(product) {\r\n  //update scenario\r\n  if (product.product_id) {\r\n    const body = { ...product };\r\n    delete body.product_id;\r\n    return http.put(endpoint + \"/\" + product.product_id, body);\r\n  }\r\n  //add new scenario\r\n  return http.post(endpoint, product);\r\n}\r\n\r\nexport function deleteProduct(productId) {\r\n  return http.delete(`${endpoint}/${productId}`);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport QRCode from \"qrcode\";\r\n\r\nconst Qr = ({ product, onClick }) => {\r\n  const [src, setSrc] = useState(\"\");\r\n  useEffect(() => {\r\n    QRCode.toDataURL(\r\n      `Name: ${product.name}\r\n    Price: ${product.price}\r\n    Creation Date: ${product.creationDate}`\r\n    ).then((data) => {\r\n      setSrc(data);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <img src={src} onClick={() => onClick(product)} className=\"clickable\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Qr;\r\n","import jwtDecode from \"jwt-decode\";\r\nimport http from \"./httpService\";\r\n\r\nconst endpoint = \"/logins\";\r\nhttp.setToken(getToken(\"token\")); //to remvove bidirectional dependency between auth and http\r\n\r\nexport async function login(email, password) {\r\n  const { data: token } = await http.post(endpoint, { email, password });\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nexport function loginWithToken(token) {\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    return jwtDecode(token);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function isAdmin() {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    const user = jwtDecode(token);\r\n    return user.role === \"admin\" ? true : false;\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function getToken() {\r\n  return localStorage.getItem(\"token\");\r\n}\r\n\r\nexport default {\r\n  login,\r\n  loginWithToken,\r\n  logout,\r\n  getCurrentUser,\r\n  getToken,\r\n  isAdmin,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Qr from \"./common/qrcode\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass ProductsTable extends React.Component {\r\n  render() {\r\n    const { products, onDelete, onShow, onClose } = this.props;\r\n    return (\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>id</th>\r\n            <th>Name</th>\r\n            <th>Price</th>\r\n            <th>Creation Date</th>\r\n            <th></th>\r\n            <th>QRCode</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((p) => (\r\n            <tr key={p.product_id}>\r\n              <td>{p.product_id}</td>\r\n              <td>\r\n                <Link to={`/products/${p.product_id}`}>{p.name}</Link>\r\n              </td>\r\n              <td>{p.price}</td>\r\n              <td>{p.creation_date}</td>\r\n              <td>\r\n                <button\r\n                  onClick={() => onDelete(p)}\r\n                  className=\"btn btn-danger btn-sm\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n              {auth.isAdmin() && (\r\n                <td>\r\n                  <Qr product={p} onClick={() => onShow(p)} onClose={onClose} />\r\n                </td>\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductsTable;\r\n","import React from \"react\";\r\nimport { Modal, ModalHeader, ModalFooter, ModalBody, Button } from \"reactstrap\";\r\n\r\nconst InfoModel = ({ data, visisble, onClose }) => {\r\n  return (\r\n    <Modal isOpen={visisble} fade={false}>\r\n      <ModalHeader>QRCode Information:</ModalHeader>\r\n      <ModalBody>\r\n        {\r\n          <ul>\r\n            {Object.keys(data).map((key) => (\r\n              <li key={key}>{`${key}: ${data[key]}`}</li>\r\n            ))}\r\n          </ul>\r\n        }\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button onClick={onClose}>Close</Button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default InfoModel;\r\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getProducts, deleteProduct } from \"./../services/productService\";\r\nimport ProductsTable from \"./productsTable\";\r\nimport InfoModel from \"./common/infoModal\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Products extends React.Component {\r\n  state = {\r\n    products: [],\r\n    product: {},\r\n    modalVisible: false,\r\n  };\r\n  async componentDidMount() {\r\n    const { data: products } = await getProducts();\r\n    this.setState({ products });\r\n  }\r\n  toggleModal = () => {\r\n    const visible = this.state.modalVisible;\r\n    this.setState({ modalVisible: !visible });\r\n  };\r\n  handleDelete = async (product) => {\r\n    const originalProducts = this.state.products;\r\n    const products = this.state.products.filter(\r\n      (p) => p.product_id !== product.product_id\r\n    );\r\n    this.setState({ products });\r\n\r\n    try {\r\n      await deleteProduct(product.product_id);\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404)\r\n        toast.error(\"This product was not found.\");\r\n\r\n      this.setState({ products: originalProducts });\r\n    }\r\n  };\r\n\r\n  toggleModal = () => {\r\n    const visible = this.state.modalVisible;\r\n    this.setState({ modalVisible: !visible });\r\n  };\r\n\r\n  render() {\r\n    const { length } = this.state.products;\r\n    return (\r\n      <React.Fragment>\r\n        <Link to=\"/products/new\" className=\"btn btn-primary mb-1\">\r\n          Add New Product\r\n        </Link>\r\n        <p>Showing {length} products in the database</p>\r\n        <ProductsTable\r\n          products={this.state.products}\r\n          onDelete={this.handleDelete}\r\n          onShow={(product) => {\r\n            this.toggleModal();\r\n            this.setState({ product });\r\n          }}\r\n        />\r\n        <InfoModel\r\n          data={this.state.product}\r\n          visisble={this.state.modalVisible}\r\n          onClose={this.toggleModal}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Products;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\n\r\nclass Form extends React.Component {\r\n  state = {\r\n    data: {},\r\n    errors: {},\r\n  };\r\n  validateForm() {\r\n    const errors = {};\r\n    const result = Joi.validate(this.state.data, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n    if (!result.error) return null;\r\n\r\n    for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  }\r\n  validateField = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateField(e.currentTarget);\r\n    if (errorMessage) errors[e.currentTarget.name] = errorMessage;\r\n    else delete errors[e.currentTarget.name];\r\n\r\n    const data = { ...this.state.data };\r\n    data[e.currentTarget.name] = e.currentTarget.value;\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  handleRadioChange = (e) => {\r\n    const data = { ...this.state.data };\r\n    data.role = e.target.value;\r\n    this.setState({ data });\r\n    console.log(e.target.value);\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validateForm();\r\n    this.setState({ errors: errors || {} });\r\n    if (errors) return;\r\n\r\n    this.doSubmit();\r\n  };\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Input = ({ name, value, label, error, onChange }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name} className=\"for\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        value={value}\r\n        onChange={onChange}\r\n        id={name}\r\n        name={name}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n      />\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport { getProduct, saveProduct } from \"../services/productService\";\r\nimport Form from \"./common/form\";\r\nimport Input from \"./common/input\";\r\n\r\nclass ProductForm extends Form {\r\n  state = {\r\n    data: {\r\n      name: \"\",\r\n      price: \"\",\r\n      creationDate: \"\",\r\n    },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    product_id: Joi.number(),\r\n    name: Joi.string().required(),\r\n    price: Joi.number().required(),\r\n    creationDate: Joi.date().required(),\r\n  };\r\n  async componentDidMount() {\r\n    const productId = this.props.match.params.id;\r\n    if (productId === \"new\") return;\r\n\r\n    try {\r\n      const { data: product } = await getProduct(productId);\r\n      this.setState({ data: this.mapToProductModel(product) });\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404)\r\n        this.props.history.replace(\"/not-found\");\r\n    }\r\n  }\r\n  mapToProductModel = (product) => {\r\n    return {\r\n      product_id: product.product_id,\r\n      name: product.name,\r\n      price: product.price,\r\n      creationDate: product.creation_date, //**** pay strong attention */\r\n    };\r\n  };\r\n  doSubmit = async () => {\r\n    await saveProduct(this.state.data);\r\n    this.props.history.push(\"/products\");\r\n  };\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Product Form - {this.props.match.params.id}</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Input\r\n            value={data.name}\r\n            onChange={this.handleChange}\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            error={errors.name}\r\n          />\r\n          <Input\r\n            value={data.price}\r\n            onChange={this.handleChange}\r\n            name=\"price\"\r\n            label=\"Price\"\r\n            error={errors.price}\r\n          />\r\n          <small className=\"mt-3\">date format should be YYYY-MM-DD</small>\r\n          <Input\r\n            value={data.creationDate}\r\n            onChange={this.handleChange}\r\n            name=\"creationDate\"\r\n            label=\"Creation Date\"\r\n            error={errors.creationDate}\r\n          />\r\n          <button className=\"btn btn-primary\" disabled={this.validateForm()}>\r\n            Save\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductForm;\r\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Input from \"./common/input\";\r\nimport Form from \"./common/form\";\r\nimport auth from \"./../services/authService\";\r\n\r\nclass Login extends Form {\r\n  state = {\r\n    data: { email: \"\", password: \"\" },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().required(),\r\n  };\r\n\r\n  async doSubmit() {\r\n    try {\r\n      const { data } = this.state;\r\n      await auth.login(data.email, data.password);\r\n      window.location = \"/\";\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404) {\r\n        const errors = { ...this.state.errors };\r\n        errors.email = ex.response.data;\r\n        this.setState({ errors });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <Input\r\n              value={data.email}\r\n              onChange={this.handleChange}\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              error={errors.email}\r\n            />\r\n            <Input\r\n              value={data.password}\r\n              onChange={this.handleChange}\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              error={errors.password}\r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary\" disabled={this.validateForm()}>\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nconst Radio = ({ name, label, value, checked }) => {\r\n  return (\r\n    <div className=\"form-check\">\r\n      <input\r\n        className=\"form-check-input\"\r\n        type=\"radio\"\r\n        name={name}\r\n        value={value}\r\n        id={name}\r\n        checked={checked}\r\n      />\r\n      <label className=\"form-check-label\" htmlFor={name}>\r\n        {label}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Radio;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Input from \"./common/input\";\r\nimport Form from \"./common/form\";\r\nimport Radio from \"./common/radio\";\r\nimport { register } from \"./../services/userService\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass Register extends Form {\r\n  state = {\r\n    data: { name: \"\", email: \"\", password: \"\", role: \"common\" },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    name: Joi.string().required(),\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().required(),\r\n    role: Joi.string().required(),\r\n  };\r\n\r\n  async doSubmit() {\r\n    try {\r\n      const response = await register(this.state.data);\r\n      auth.loginWithToken(response.headers[\"x-auth-token\"]);\r\n      window.location = \"/\";\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        const errors = { ...this.state.errors };\r\n        errors.email = ex.response.data;\r\n        this.setState({ errors });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Register</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <Input\r\n              value={data.name}\r\n              onChange={this.handleChange}\r\n              name=\"name\"\r\n              label=\"Name:\"\r\n              error={errors.name}\r\n            />\r\n            <Input\r\n              value={data.email}\r\n              onChange={this.handleChange}\r\n              name=\"email\"\r\n              label=\"Email:\"\r\n              error={errors.email}\r\n            />\r\n            <Input\r\n              value={data.password}\r\n              onChange={this.handleChange}\r\n              name=\"password\"\r\n              label=\"Password:\"\r\n              error={errors.password}\r\n            />\r\n            <div className=\"radio\" onChange={this.handleRadioChange}>\r\n              <Radio\r\n                name=\"admin\"\r\n                value=\"admin\"\r\n                label=\"Admin User\"\r\n                checked={data.role === \"admin\"}\r\n              />\r\n              <Radio\r\n                name=\"common\"\r\n                value=\"common\"\r\n                label=\"Common User\"\r\n                checked={data.role === \"common\"}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"btn btn-primary my-2\"\r\n            disabled={this.validateForm()}\r\n          >\r\n            Register\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import http from \"./httpService\";\r\n\r\nconst endpoint = \"/users\";\r\n\r\nexport function register(user) {\r\n  return http.post(endpoint, {\r\n    email: user.email,\r\n    password: user.password,\r\n    name: user.name,\r\n    role: user.role,\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass Logout extends React.Component {\r\n  componentDidMount() {\r\n    auth.logout();\r\n    window.location = \"/home\";\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default Logout;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Profile extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>User Profile</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return <h1>Page Not Found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport NavBar from \"./components/navbar\";\r\nimport Home from \"./components/home\";\r\nimport Products from \"./components/products\";\r\nimport ProductForm from \"./components/productForm\";\r\nimport LoginForm from \"./components/loginForm\";\r\nimport RegisterForm from \"./components/registerForm\";\r\nimport Logout from \"./components/logout\";\r\nimport Profile from \"./components/profile\";\r\nimport NotFound from \"./components/notFound\";\r\nimport auth from \"./services/authService\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass App extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    const user = auth.getCurrentUser();\r\n    this.setState({ user });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <ToastContainer />\r\n        <NavBar user={this.state.user} />\r\n        <main className=\"container\">\r\n          <Switch>\r\n            <Route\r\n              path=\"/home\"\r\n              render={(props) => <Home {...props} user={this.state.user} />}\r\n            />\r\n            <Route path=\"/products/:id\" component={ProductForm} />\r\n            <Route path=\"/products\" component={Products} />\r\n            <Route path=\"/login\" component={LoginForm} />\r\n            <Route path=\"/register\" component={RegisterForm} />\r\n            <Route path=\"/logout\" component={Logout} />\r\n            <Route path=\"/profile\" component={Profile} />\r\n            <Redirect from=\"/\" exact to=\"/products\" />\r\n            <Route path=\"/not-found\" component={NotFound} />\r\n            <Redirect to=\"/not-found\" />\r\n          </Switch>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./app\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"./index.css\";\r\n\r\nconsole.log(process.env);\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}
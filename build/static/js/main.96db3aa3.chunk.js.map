{"version":3,"sources":["components/navbar.jsx","services/httpService.js","services/authService.js","components/home.jsx","services/productService.js","components/common/qrcode.jsx","components/productsTable.jsx","components/common/infoModal.jsx","components/products.jsx","components/common/form.jsx","components/common/input.jsx","components/productForm.jsx","components/loginForm.jsx","components/common/radio.jsx","components/registerForm.jsx","services/userService.js","components/logout.jsx","components/profile.jsx","components/notFound.jsx","app.js","index.js"],"names":["NavBar","user","className","NavLink","to","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","aria-current","name","axios","defaults","baseURL","process","interceptors","response","use","error","status","console","log","toast","Promise","reject","get","post","put","delete","setToken","token","headers","common","email","password","a","http","data","localStorage","setItem","getToken","getItem","login","loginWithToken","logout","removeItem","getCurrentUser","jwtDecode","ex","isAdmin","role","Home","state","auth","this","setState","React","Component","getProduct","productId","saveProduct","product","product_id","body","endpoint","deleteProduct","Qr","onClick","useState","src","setSrc","useEffect","QRCode","toDataURL","price","creationDate","then","ProductsTable","props","products","onDelete","onShow","onClose","map","p","key","Link","creation_date","InfoModel","visisble","isOpen","fade","Object","keys","Products","modalVisible","toggleModal","visible","handleDelete","originalProducts","filter","length","Fragment","Form","errors","validateField","value","obj","schema","Joi","validate","details","message","handleChange","e","errorMessage","currentTarget","handleRadioChange","target","handleSubmit","preventDefault","validateForm","doSubmit","result","abortEarly","item","path","Input","label","onChange","htmlFor","ProductForm","number","string","required","date","mapToProductModel","history","push","match","params","replace","onSubmit","disabled","Login","window","location","Radio","checked","Register","Logout","Profile","NotFound","App","Switch","Route","component","LoginForm","RegisterForm","Redirect","from","exact","ReactDOM","render","BrowserRouter","document","getElementById"],"mappings":"oQAqDeA,EAlDA,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAChB,OACE,yBAAKC,UAAU,oCACb,yBAAKA,UAAU,mBACb,kBAACC,EAAA,EAAD,CAASD,UAAU,eAAeE,GAAG,SAArC,SAGA,4BACEF,UAAU,iBACVG,KAAK,SACLC,iBAAe,WACfC,iBAAe,sBACfC,gBAAc,qBACdC,gBAAc,QACdC,aAAW,qBAEX,0BAAMR,UAAU,yBAElB,yBAAKA,UAAU,2BAA2BS,GAAG,sBAC3C,yBAAKT,UAAU,cACb,kBAACC,EAAA,EAAD,CAASD,UAAU,YAAYU,eAAa,OAAOR,GAAG,aAAtD,aAGEH,GACA,oCACE,kBAACE,EAAA,EAAD,CAASD,UAAU,WAAWE,GAAG,UAAjC,SAGA,kBAACD,EAAA,EAAD,CAASD,UAAU,WAAWE,GAAG,aAAjC,aAKHH,GACC,oCACE,kBAACE,EAAA,EAAD,CAASD,UAAU,WAAWE,GAAG,YAAjC,aACSH,EAAKY,OAEd,kBAACV,EAAA,EAAD,CAASD,UAAU,WAAWE,GAAG,WAAjC,gB,0DCtChBU,IAAMC,SAASC,QAAUC,uCAEzBH,IAAMI,aAAaC,SAASC,IAAI,MAAM,SAACC,GAMrC,OALIA,EAAMF,UAAYE,EAAMF,SAASG,QAAU,MAC7CC,QAAQC,IAAI,sBAAuBH,GACnCI,IAAMJ,MAAM,kCAGPK,QAAQC,OAAON,MAOT,OACbO,IAAKd,IAAMc,IACXC,KAAMf,IAAMe,KACZC,IAAKhB,IAAMgB,IACXC,OAAQjB,IAAMiB,OACdC,SATF,SAAkBC,GAChBnB,IAAMC,SAASmB,QAAQC,OAAO,gBAAkBF,I,4CCT3C,WAAqBG,EAAOC,GAA5B,iBAAAC,EAAA,sEACyBC,EAAKV,KAJpB,UAImC,CAAEO,QAAOC,aADtD,gBACSJ,EADT,EACGO,KACRC,aAAaC,QAAQ,QAAST,GAFzB,4C,sBAgCA,SAASU,IACd,OAAOF,aAAaG,QAAQ,SAnC9BL,EAAKP,SAASW,KAsCC,OACbE,MArCK,SAAP,qCAsCEC,eAjCK,SAAwBb,GAC7BQ,aAAaC,QAAQ,QAAST,IAiC9Bc,OA9BK,WACLN,aAAaO,WAAW,UA8BxBC,eA3BK,WACL,IACE,IAAMhB,EAAQQ,aAAaG,QAAQ,SACnC,OAAOM,IAAUjB,GACjB,MAAOkB,GACP,OAAO,OAuBTR,WACAS,QApBK,WACL,IACE,IAAMnB,EAAQQ,aAAaG,QAAQ,SAEnC,MAAqB,UADRM,IAAUjB,GACXoB,KACZ,MAAOF,GACP,OAAO,QCIIG,E,4MAlCbC,MAAQ,G,kEAEN,IAAMtD,EAAOuD,EAAKP,iBAClBQ,KAAKC,SAAS,CAAEzD,W,+BAGhB,OACE,6BACE,0CACEwD,KAAKF,MAAMtD,MACX,6BACE,gGAGA,6BACA,6BACA,6BACA,uDAC2B,+CAD3B,4BAGE,oCAEF,wDAC4B,+CAD5B,4BAGE,0C,GA1BK0D,IAAMC,W,QCKlB,SAASC,EAAWC,GACzB,OAAOvB,EAAKX,IAAL,UAPQ,YAOR,YAAwBkC,IAG1B,SAASC,EAAYC,GAE1B,GAAIA,EAAQC,WAAY,CACtB,IAAMC,EAAI,eAAQF,GAElB,cADOE,EAAKD,WACL1B,EAAKT,IAAIqC,aAAiBH,EAAQC,WAAYC,GAGvD,OAAO3B,EAAKV,KAlBG,YAkBYmC,GAGtB,SAASI,EAAcN,GAC5B,OAAOvB,EAAKR,OAAL,UAtBQ,YAsBR,YAA2B+B,I,qCCHrBO,EAlBJ,SAAC,GAA0B,IAAxBL,EAAuB,EAAvBA,QAASM,EAAc,EAAdA,QAAc,EACbC,mBAAS,IADI,mBAC5BC,EAD4B,KACvBC,EADuB,KAWnC,OATAC,qBAAU,WACRC,IAAOC,UAAP,gBACWZ,EAAQnD,KADnB,wBAESmD,EAAQa,MAFjB,gCAGiBb,EAAQc,eACvBC,MAAK,SAACvC,GACNiC,EAAOjC,QAER,IAED,6BACE,yBAAKgC,IAAKA,EAAKF,QAAS,kBAAMA,EAAQN,IAAU9D,UAAU,gBCkCjD8E,E,uKA5CH,IAAD,EACyCvB,KAAKwB,MAA7CC,EADD,EACCA,SAAUC,EADX,EACWA,SAAUC,EADrB,EACqBA,OAAQC,EAD7B,EAC6BA,QACpC,OACE,2BAAOnF,UAAU,SACf,+BACE,4BACE,kCACA,oCACA,qCACA,6CACA,6BACA,wCAGJ,+BACGgF,EAASI,KAAI,SAACC,GAAD,OACZ,wBAAIC,IAAKD,EAAEtB,YACT,4BAAKsB,EAAEtB,YACP,4BACE,kBAACwB,EAAA,EAAD,CAAMrF,GAAE,oBAAemF,EAAEtB,aAAesB,EAAE1E,OAE5C,4BAAK0E,EAAEV,OACP,4BAAKU,EAAEG,eACP,4BACE,4BACEpB,QAAS,kBAAMa,EAASI,IACxBrF,UAAU,yBAFZ,WAODsD,EAAKJ,WACJ,4BACE,kBAAC,EAAD,CAAIY,QAASuB,EAAGjB,QAAS,kBAAMc,EAAOG,IAAIF,QAASA,e,GAlCzC1B,IAAMC,W,QCkBnB+B,EApBG,SAAC,GAAiC,IAA/BnD,EAA8B,EAA9BA,KAAMoD,EAAwB,EAAxBA,SAAUP,EAAc,EAAdA,QACnC,OACE,kBAAC,IAAD,CAAOQ,OAAQD,EAAUE,MAAM,GAC7B,kBAAC,IAAD,4BACA,kBAAC,IAAD,KAEI,4BACGC,OAAOC,KAAKxD,GAAM8C,KAAI,SAACE,GAAD,OACrB,wBAAIA,IAAKA,GAAT,UAAkBA,EAAlB,aAA0BhD,EAAKgD,UAKvC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQlB,QAASe,GAAjB,YCoDOY,E,4MA7Db1C,MAAQ,CACN2B,SAAU,GACVlB,QAAS,GACTkC,cAAc,G,EAMhBC,YAAc,WACZ,IAAMC,EAAU,EAAK7C,MAAM2C,aAC3B,EAAKxC,SAAS,CAAEwC,cAAeE,K,EAEjCC,a,uCAAe,WAAOrC,GAAP,iBAAA1B,EAAA,6DACPgE,EAAmB,EAAK/C,MAAM2B,SAC9BA,EAAW,EAAK3B,MAAM2B,SAASqB,QACnC,SAAChB,GAAD,OAAOA,EAAEtB,aAAeD,EAAQC,cAElC,EAAKP,SAAS,CAAEwB,aALH,kBAQLd,EAAcJ,EAAQC,YARjB,uDAUP,KAAG9C,UAAmC,MAAvB,KAAGA,SAASG,QAC7BG,IAAMJ,MAAM,+BAEd,EAAKqC,SAAS,CAAEwB,SAAUoB,IAbf,yD,wDAiBfH,YAAc,WACZ,IAAMC,EAAU,EAAK7C,MAAM2C,aAC3B,EAAKxC,SAAS,CAAEwC,cAAeE,K,oMJnC1B7D,EAAKX,IAHG,a,gBIYCsD,E,EAAN1C,KACRiB,KAAKC,SAAS,CAAEwB,a,qIA4BR,IAAD,OACCsB,EAAW/C,KAAKF,MAAM2B,SAAtBsB,OACR,OACE,kBAAC,IAAMC,SAAP,KACE,kBAAChB,EAAA,EAAD,CAAMrF,GAAG,gBAAgBF,UAAU,wBAAnC,mBAGA,sCAAYsG,EAAZ,6BACA,kBAAC,EAAD,CACEtB,SAAUzB,KAAKF,MAAM2B,SACrBC,SAAU1B,KAAK4C,aACfjB,OAAQ,SAACpB,GACP,EAAKmC,cACL,EAAKzC,SAAS,CAAEM,eAGpB,kBAAC,EAAD,CACExB,KAAMiB,KAAKF,MAAMS,QACjB4B,SAAUnC,KAAKF,MAAM2C,aACrBb,QAAS5B,KAAK0C,mB,GAvDDxC,IAAMC,W,iCC8Cd8C,E,4MAjDbnD,MAAQ,CACNf,KAAM,GACNmE,OAAQ,I,EAYVC,cAAgB,YAAsB,IAAnB/F,EAAkB,EAAlBA,KAAMgG,EAAY,EAAZA,MACjBC,EAAG,eAAMjG,EAAOgG,GAChBE,EAAM,eAAMlG,EAAO,EAAKkG,OAAOlG,IAC7BQ,EAAU2F,IAAIC,SAASH,EAAKC,GAA5B1F,MACR,OAAOA,EAAQA,EAAM6F,QAAQ,GAAGC,QAAU,M,EAG5CC,aAAe,SAACC,GACd,IAAMV,EAAM,eAAQ,EAAKpD,MAAMoD,QACzBW,EAAe,EAAKV,cAAcS,EAAEE,eACtCD,EAAcX,EAAOU,EAAEE,cAAc1G,MAAQyG,SACrCX,EAAOU,EAAEE,cAAc1G,MAEnC,IAAM2B,EAAI,eAAQ,EAAKe,MAAMf,MAC7BA,EAAK6E,EAAEE,cAAc1G,MAAQwG,EAAEE,cAAcV,MAC7C,EAAKnD,SAAS,CAAElB,OAAMmE,Y,EAGxBa,kBAAoB,SAACH,GACnB,IAAM7E,EAAI,eAAQ,EAAKe,MAAMf,MAC7BA,EAAKa,KAAOgE,EAAEI,OAAOZ,MACrB,EAAKnD,SAAS,CAAElB,SAChBjB,QAAQC,IAAI6F,EAAEI,OAAOZ,Q,EAGvBa,aAAe,SAACL,GACdA,EAAEM,iBACF,IAAMhB,EAAS,EAAKiB,eACpB,EAAKlE,SAAS,CAAEiD,OAAQA,GAAU,KAC9BA,GAEJ,EAAKkB,Y,6DAxCL,IAAMlB,EAAS,GACTmB,EAASd,IAAIC,SAASxD,KAAKF,MAAMf,KAAMiB,KAAKsD,OAAQ,CACxDgB,YAAY,IAEd,IAAKD,EAAOzG,MAAO,OAAO,KALb,oBAOIyG,EAAOzG,MAAM6F,SAPjB,IAOb,gCAASc,EAAT,QAAuCrB,EAAOqB,EAAKC,KAAK,IAAMD,EAAKb,SAPtD,8BAQb,OAAOR,M,GAbQhD,IAAMC,WCkBVsE,EAnBD,SAAC,GAA6C,IAA3CrH,EAA0C,EAA1CA,KAAMgG,EAAoC,EAApCA,MAAOsB,EAA6B,EAA7BA,MAAO9G,EAAsB,EAAtBA,MAAO+G,EAAe,EAAfA,SAC1C,OACE,yBAAKlI,UAAU,cACb,2BAAOmI,QAASxH,EAAMX,UAAU,OAC7BiI,GAEH,2BACEtB,MAAOA,EACPuB,SAAUA,EACVzH,GAAIE,EACJA,KAAMA,EACNR,KAAK,OACLH,UAAU,iBAEXmB,GAAS,yBAAKnB,UAAU,sBAAsBmB,KCkEtCiH,E,4MA3Eb/E,MAAQ,CACNf,KAAM,CACJ3B,KAAM,GACNgE,MAAO,GACPC,aAAc,IAEhB6B,OAAQ,I,EAEVI,OAAS,CACP9C,WAAY+C,IAAIuB,SAChB1H,KAAMmG,IAAIwB,SAASC,WACnB5D,MAAOmC,IAAIuB,SAASE,WACpB3D,aAAckC,IAAI0B,OAAOD,Y,EAc3BE,kBAAoB,SAAC3E,GACnB,MAAO,CACLC,WAAYD,EAAQC,WACpBpD,KAAMmD,EAAQnD,KACdgE,MAAOb,EAAQa,MACfC,aAAcd,EAAQ0B,gB,EAG1BmC,S,sBAAW,sBAAAvF,EAAA,sEACHyB,EAAY,EAAKR,MAAMf,MADpB,OAET,EAAKyC,MAAM2D,QAAQC,KAAK,aAFf,2C,yLAlBS,SADZ/E,EAAYL,KAAKwB,MAAM6D,MAAMC,OAAOpI,I,0EAIRkD,EAAWC,G,gBAA7BE,E,EAANxB,KACRiB,KAAKC,SAAS,CAAElB,KAAMiB,KAAKkF,kBAAkB3E,K,kDAEzC,KAAG7C,UAAmC,MAAvB,KAAGA,SAASG,QAC7BmC,KAAKwB,MAAM2D,QAAQI,QAAQ,c,+IAevB,IAAD,EACkBvF,KAAKF,MAAtBf,EADD,EACCA,KAAMmE,EADP,EACOA,OACd,OACE,6BACE,8CAAoBlD,KAAKwB,MAAM6D,MAAMC,OAAOpI,IAC5C,0BAAMsI,SAAUxF,KAAKiE,cACnB,kBAAC,EAAD,CACEb,MAAOrE,EAAK3B,KACZuH,SAAU3E,KAAK2D,aACfvG,KAAK,OACLsH,MAAM,OACN9G,MAAOsF,EAAO9F,OAEhB,kBAAC,EAAD,CACEgG,MAAOrE,EAAKqC,MACZuD,SAAU3E,KAAK2D,aACfvG,KAAK,QACLsH,MAAM,QACN9G,MAAOsF,EAAO9B,QAEhB,2BAAO3E,UAAU,QAAjB,oCACA,kBAAC,EAAD,CACE2G,MAAOrE,EAAKsC,aACZsD,SAAU3E,KAAK2D,aACfvG,KAAK,eACLsH,MAAM,gBACN9G,MAAOsF,EAAO7B,eAEhB,4BAAQ5E,UAAU,kBAAkBgJ,SAAUzF,KAAKmE,gBAAnD,c,GAnEgBlB,GCuDXyC,E,4MAtDb5F,MAAQ,CACNf,KAAM,CAAEJ,MAAO,GAAIC,SAAU,IAC7BsE,OAAQ,I,EAEVI,OAAS,CACP3E,MAAO4E,IAAIwB,SAASpG,QAAQqG,WAC5BpG,SAAU2E,IAAIwB,SAASC,Y,2LAKbjG,EAASiB,KAAKF,MAAdf,K,SACFgB,EAAKX,MAAML,EAAKJ,MAAOI,EAAKH,U,OAClC+G,OAAOC,SAAW,Y,gDAEd,KAAGlI,UAAmC,MAAvB,KAAGA,SAASG,UACvBqF,EADuC,eACzBlD,KAAKF,MAAMoD,SACxBvE,MAAQ,KAAGjB,SAASqB,KAC3BiB,KAAKC,SAAS,CAAEiD,Y,8IAKZ,IAAD,EACkBlD,KAAKF,MAAtBf,EADD,EACCA,KAAMmE,EADP,EACOA,OACd,OACE,6BACE,qCACA,0BAAMsC,SAAUxF,KAAKiE,cACnB,yBAAKxH,UAAU,cACb,kBAAC,EAAD,CACE2G,MAAOrE,EAAKJ,MACZgG,SAAU3E,KAAK2D,aACfvG,KAAK,QACLsH,MAAM,QACN9G,MAAOsF,EAAOvE,QAEhB,kBAAC,EAAD,CACEyE,MAAOrE,EAAKH,SACZ+F,SAAU3E,KAAK2D,aACfvG,KAAK,WACLsH,MAAM,WACN9G,MAAOsF,EAAOtE,YAGlB,4BAAQnC,UAAU,kBAAkBgJ,SAAUzF,KAAKmE,gBAAnD,e,GA9CUlB,GCcL4C,EAlBD,SAAC,GAAqC,IAAnCzI,EAAkC,EAAlCA,KAAMsH,EAA4B,EAA5BA,MAAOtB,EAAqB,EAArBA,MAAO0C,EAAc,EAAdA,QACnC,OACE,yBAAKrJ,UAAU,cACb,2BACEA,UAAU,mBACVG,KAAK,QACLQ,KAAMA,EACNgG,MAAOA,EACPlG,GAAIE,EACJ0I,QAASA,IAEX,2BAAOrJ,UAAU,mBAAmBmI,QAASxH,GAC1CsH,K,IC4EMqB,E,4MAjFbjG,MAAQ,CACNf,KAAM,CAAE3B,KAAM,GAAIuB,MAAO,GAAIC,SAAU,GAAIgB,KAAM,UACjDsD,OAAQ,I,EAEVI,OAAS,CACPlG,KAAMmG,IAAIwB,SAASC,WACnBrG,MAAO4E,IAAIwB,SAASpG,QAAQqG,WAC5BpG,SAAU2E,IAAIwB,SAASC,WACvBpF,KAAM2D,IAAIwB,SAASC,Y,oMCbExI,EDkBawD,KAAKF,MAAMf,KCjBxCD,EAAKV,KAHG,SAGY,CACzBO,MAAOnC,EAAKmC,MACZC,SAAUpC,EAAKoC,SACfxB,KAAMZ,EAAKY,KACXwC,KAAMpD,EAAKoD,O,ODaHlC,E,OACNqC,EAAKV,eAAe3B,EAASe,QAAQ,iBACrCkH,OAAOC,SAAW,I,gDAEd,KAAGlI,UAAmC,MAAvB,KAAGA,SAASG,UACvBqF,EADuC,eACzBlD,KAAKF,MAAMoD,SACxBvE,MAAQ,KAAGjB,SAASqB,KAC3BiB,KAAKC,SAAS,CAAEiD,Y,kCCzBjB,IAAkB1G,I,yGD8Bb,IAAD,EACkBwD,KAAKF,MAAtBf,EADD,EACCA,KAAMmE,EADP,EACOA,OACd,OACE,6BACE,wCACA,0BAAMsC,SAAUxF,KAAKiE,cACnB,yBAAKxH,UAAU,cACb,kBAAC,EAAD,CACE2G,MAAOrE,EAAK3B,KACZuH,SAAU3E,KAAK2D,aACfvG,KAAK,OACLsH,MAAM,QACN9G,MAAOsF,EAAO9F,OAEhB,kBAAC,EAAD,CACEgG,MAAOrE,EAAKJ,MACZgG,SAAU3E,KAAK2D,aACfvG,KAAK,QACLsH,MAAM,SACN9G,MAAOsF,EAAOvE,QAEhB,kBAAC,EAAD,CACEyE,MAAOrE,EAAKH,SACZ+F,SAAU3E,KAAK2D,aACfvG,KAAK,WACLsH,MAAM,YACN9G,MAAOsF,EAAOtE,WAEhB,yBAAKnC,UAAU,QAAQkI,SAAU3E,KAAK+D,mBACpC,kBAAC,EAAD,CACE3G,KAAK,QACLgG,MAAM,QACNsB,MAAM,aACNoB,QAAuB,UAAd/G,EAAKa,OAEhB,kBAAC,EAAD,CACExC,KAAK,SACLgG,MAAM,SACNsB,MAAM,cACNoB,QAAuB,WAAd/G,EAAKa,SAKpB,4BACEnD,UAAU,uBACVgJ,SAAUzF,KAAKmE,gBAFjB,kB,GAtEalB,GEKR+C,E,kLARXjG,EAAKT,SACLqG,OAAOC,SAAW,U,+BAGlB,OAAO,S,GANU1F,IAAMC,WCSZ8F,G,uKARX,OACE,6BACE,iD,GAJc/F,IAAMC,WCIb+F,GAJE,WACf,OAAO,+CC0CMC,I,mNA7BbrG,MAAQ,G,kEAEN,IAAMtD,EAAOuD,EAAKP,iBAClBQ,KAAKC,SAAS,CAAEzD,W,+BAGhB,OACE,oCACE,kBAAC,IAAD,MACA,kBAAC,EAAD,CAAQA,KAAMwD,KAAKF,MAAMtD,OACzB,0BAAMC,UAAU,aACd,kBAAC2J,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAO7B,KAAK,QAAQ8B,UAAWzG,IADjC,OAEE,kBAACwG,EAAA,EAAD,CAAO7B,KAAK,gBAAgB8B,UAAWzB,IACvC,kBAACwB,EAAA,EAAD,CAAO7B,KAAK,YAAY8B,UAAW9D,IACnC,kBAAC6D,EAAA,EAAD,CAAO7B,KAAK,SAAS8B,UAAWC,IAChC,kBAACF,EAAA,EAAD,CAAO7B,KAAK,YAAY8B,UAAWE,IACnC,kBAACH,EAAA,EAAD,CAAO7B,KAAK,UAAU8B,UAAWN,IACjC,kBAACK,EAAA,EAAD,CAAO7B,KAAK,WAAW8B,UAAWL,KAClC,kBAACQ,EAAA,EAAD,CAAUC,KAAK,IAAIC,OAAK,EAAChK,GAAG,UAC5B,kBAAC0J,EAAA,EAAD,CAAO7B,KAAK,aAAa8B,UAAWJ,KACpC,kBAACO,EAAA,EAAD,CAAU9J,GAAG,sB,GAtBPwD,c,cCRlBrC,QAAQC,IAAIP,6KAEZoJ,IAASC,OACP,kBAACC,EAAA,EAAD,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.96db3aa3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = ({ user }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <NavLink className=\"navbar-brand\" to=\"/home\">\r\n          Aswar\r\n        </NavLink>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNavAltMarkup\"\r\n          aria-controls=\"navbarNavAltMarkup\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n          <div className=\"navbar-nav\">\r\n            <NavLink className=\"nav-link \" aria-current=\"page\" to=\"/products\">\r\n              Products\r\n            </NavLink>\r\n            {!user && (\r\n              <>\r\n                <NavLink className=\"nav-link\" to=\"/login\">\r\n                  Login\r\n                </NavLink>\r\n                <NavLink className=\"nav-link\" to=\"/register\">\r\n                  Register\r\n                </NavLink>\r\n              </>\r\n            )}\r\n            {user && (\r\n              <>\r\n                <NavLink className=\"nav-link\" to=\"/profile\">\r\n                  {`Hi ${user.name}`}\r\n                </NavLink>\r\n                <NavLink className=\"nav-link\" to=\"/logout\">\r\n                  Logout\r\n                </NavLink>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.response.use(null, (error) => {\r\n  if (error.response && error.response.status >= 500) {\r\n    console.log(\"Logging the error: \", error);\r\n    toast.error(\"An unexpected error occurred.\");\r\n  }\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nfunction setToken(token) {\r\n  axios.defaults.headers.common[\"x-auth-token\"] = token;\r\n}\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n  setToken,\r\n};\r\n","import jwtDecode from \"jwt-decode\";\r\nimport http from \"./httpService\";\r\n\r\nconst endpoint = \"/logins\";\r\nhttp.setToken(getToken(\"token\")); //to remvove bidirectional dependency between auth and http\r\n\r\nexport async function login(email, password) {\r\n  const { data: token } = await http.post(endpoint, { email, password });\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nexport function loginWithToken(token) {\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    return jwtDecode(token);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function isAdmin() {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    const user = jwtDecode(token);\r\n    return user.role === \"admin\" ? true : false;\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function getToken() {\r\n  return localStorage.getItem(\"token\");\r\n}\r\n\r\nexport default {\r\n  login,\r\n  loginWithToken,\r\n  logout,\r\n  getCurrentUser,\r\n  getToken,\r\n  isAdmin,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass Home extends React.Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    const user = auth.getCurrentUser();\r\n    this.setState({ user });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Home Page</h1>\r\n        {!this.state.user && (\r\n          <div>\r\n            <p>\r\n              Please log in if you have an account or register if you have not.\r\n            </p>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <p>\r\n              Admin user ==> username: <b>user1@domain.com</b> &nbsp; &nbsp;\r\n              &nbsp; password:\r\n              <b>1234</b>\r\n            </p>\r\n            <p>\r\n              Common user ==> username: <b>user2@domain.com</b> &nbsp; &nbsp;\r\n              &nbsp; password:\r\n              <b>1234</b>\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import http from \"./httpService\";\r\n\r\nconst endpoint = \"/products\";\r\n\r\nexport function getProducts() {\r\n  return http.get(endpoint);\r\n}\r\n\r\nexport function getProduct(productId) {\r\n  return http.get(`${endpoint}/${productId}`);\r\n}\r\n\r\nexport function saveProduct(product) {\r\n  //update scenario\r\n  if (product.product_id) {\r\n    const body = { ...product };\r\n    delete body.product_id;\r\n    return http.put(endpoint + \"/\" + product.product_id, body);\r\n  }\r\n  //add new scenario\r\n  return http.post(endpoint, product);\r\n}\r\n\r\nexport function deleteProduct(productId) {\r\n  return http.delete(`${endpoint}/${productId}`);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport QRCode from \"qrcode\";\r\n\r\nconst Qr = ({ product, onClick }) => {\r\n  const [src, setSrc] = useState(\"\");\r\n  useEffect(() => {\r\n    QRCode.toDataURL(\r\n      `Name: ${product.name}\r\n    Price: ${product.price}\r\n    Creation Date: ${product.creationDate}`\r\n    ).then((data) => {\r\n      setSrc(data);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <img src={src} onClick={() => onClick(product)} className=\"clickable\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Qr;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Qr from \"./common/qrcode\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass ProductsTable extends React.Component {\r\n  render() {\r\n    const { products, onDelete, onShow, onClose } = this.props;\r\n    return (\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>id</th>\r\n            <th>Name</th>\r\n            <th>Price</th>\r\n            <th>Creation Date</th>\r\n            <th></th>\r\n            <th>QRCode</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((p) => (\r\n            <tr key={p.product_id}>\r\n              <td>{p.product_id}</td>\r\n              <td>\r\n                <Link to={`/products/${p.product_id}`}>{p.name}</Link>\r\n              </td>\r\n              <td>{p.price}</td>\r\n              <td>{p.creation_date}</td>\r\n              <td>\r\n                <button\r\n                  onClick={() => onDelete(p)}\r\n                  className=\"btn btn-danger btn-sm\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n              {auth.isAdmin() && (\r\n                <td>\r\n                  <Qr product={p} onClick={() => onShow(p)} onClose={onClose} />\r\n                </td>\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductsTable;\r\n","import React from \"react\";\r\nimport { Modal, ModalHeader, ModalFooter, ModalBody, Button } from \"reactstrap\";\r\n\r\nconst InfoModel = ({ data, visisble, onClose }) => {\r\n  return (\r\n    <Modal isOpen={visisble} fade={false}>\r\n      <ModalHeader>QRCode Information:</ModalHeader>\r\n      <ModalBody>\r\n        {\r\n          <ul>\r\n            {Object.keys(data).map((key) => (\r\n              <li key={key}>{`${key}: ${data[key]}`}</li>\r\n            ))}\r\n          </ul>\r\n        }\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button onClick={onClose}>Close</Button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default InfoModel;\r\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getProducts, deleteProduct } from \"./../services/productService\";\r\nimport ProductsTable from \"./productsTable\";\r\nimport InfoModel from \"./common/infoModal\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Products extends React.Component {\r\n  state = {\r\n    products: [],\r\n    product: {},\r\n    modalVisible: false,\r\n  };\r\n  async componentDidMount() {\r\n    const { data: products } = await getProducts();\r\n    this.setState({ products });\r\n  }\r\n  toggleModal = () => {\r\n    const visible = this.state.modalVisible;\r\n    this.setState({ modalVisible: !visible });\r\n  };\r\n  handleDelete = async (product) => {\r\n    const originalProducts = this.state.products;\r\n    const products = this.state.products.filter(\r\n      (p) => p.product_id !== product.product_id\r\n    );\r\n    this.setState({ products });\r\n\r\n    try {\r\n      await deleteProduct(product.product_id);\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404)\r\n        toast.error(\"This product was not found.\");\r\n\r\n      this.setState({ products: originalProducts });\r\n    }\r\n  };\r\n\r\n  toggleModal = () => {\r\n    const visible = this.state.modalVisible;\r\n    this.setState({ modalVisible: !visible });\r\n  };\r\n\r\n  render() {\r\n    const { length } = this.state.products;\r\n    return (\r\n      <React.Fragment>\r\n        <Link to=\"/products/new\" className=\"btn btn-primary mb-1\">\r\n          Add New Product\r\n        </Link>\r\n        <p>Showing {length} products in the database</p>\r\n        <ProductsTable\r\n          products={this.state.products}\r\n          onDelete={this.handleDelete}\r\n          onShow={(product) => {\r\n            this.toggleModal();\r\n            this.setState({ product });\r\n          }}\r\n        />\r\n        <InfoModel\r\n          data={this.state.product}\r\n          visisble={this.state.modalVisible}\r\n          onClose={this.toggleModal}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Products;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\n\r\nclass Form extends React.Component {\r\n  state = {\r\n    data: {},\r\n    errors: {},\r\n  };\r\n  validateForm() {\r\n    const errors = {};\r\n    const result = Joi.validate(this.state.data, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n    if (!result.error) return null;\r\n\r\n    for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  }\r\n  validateField = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateField(e.currentTarget);\r\n    if (errorMessage) errors[e.currentTarget.name] = errorMessage;\r\n    else delete errors[e.currentTarget.name];\r\n\r\n    const data = { ...this.state.data };\r\n    data[e.currentTarget.name] = e.currentTarget.value;\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  handleRadioChange = (e) => {\r\n    const data = { ...this.state.data };\r\n    data.role = e.target.value;\r\n    this.setState({ data });\r\n    console.log(e.target.value);\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validateForm();\r\n    this.setState({ errors: errors || {} });\r\n    if (errors) return;\r\n\r\n    this.doSubmit();\r\n  };\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Input = ({ name, value, label, error, onChange }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name} className=\"for\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        value={value}\r\n        onChange={onChange}\r\n        id={name}\r\n        name={name}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n      />\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport { getProduct, saveProduct } from \"../services/productService\";\r\nimport Form from \"./common/form\";\r\nimport Input from \"./common/input\";\r\n\r\nclass ProductForm extends Form {\r\n  state = {\r\n    data: {\r\n      name: \"\",\r\n      price: \"\",\r\n      creationDate: \"\",\r\n    },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    product_id: Joi.number(),\r\n    name: Joi.string().required(),\r\n    price: Joi.number().required(),\r\n    creationDate: Joi.date().required(),\r\n  };\r\n  async componentDidMount() {\r\n    const productId = this.props.match.params.id;\r\n    if (productId === \"new\") return;\r\n\r\n    try {\r\n      const { data: product } = await getProduct(productId);\r\n      this.setState({ data: this.mapToProductModel(product) });\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404)\r\n        this.props.history.replace(\"/not-found\");\r\n    }\r\n  }\r\n  mapToProductModel = (product) => {\r\n    return {\r\n      product_id: product.product_id,\r\n      name: product.name,\r\n      price: product.price,\r\n      creationDate: product.creation_date, //**** pay strong attention */\r\n    };\r\n  };\r\n  doSubmit = async () => {\r\n    await saveProduct(this.state.data);\r\n    this.props.history.push(\"/products\");\r\n  };\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Product Form - {this.props.match.params.id}</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Input\r\n            value={data.name}\r\n            onChange={this.handleChange}\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            error={errors.name}\r\n          />\r\n          <Input\r\n            value={data.price}\r\n            onChange={this.handleChange}\r\n            name=\"price\"\r\n            label=\"Price\"\r\n            error={errors.price}\r\n          />\r\n          <small className=\"mt-3\">date format should be YYYY-MM-DD</small>\r\n          <Input\r\n            value={data.creationDate}\r\n            onChange={this.handleChange}\r\n            name=\"creationDate\"\r\n            label=\"Creation Date\"\r\n            error={errors.creationDate}\r\n          />\r\n          <button className=\"btn btn-primary\" disabled={this.validateForm()}>\r\n            Save\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductForm;\r\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Input from \"./common/input\";\r\nimport Form from \"./common/form\";\r\nimport auth from \"./../services/authService\";\r\n\r\nclass Login extends Form {\r\n  state = {\r\n    data: { email: \"\", password: \"\" },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().required(),\r\n  };\r\n\r\n  async doSubmit() {\r\n    try {\r\n      const { data } = this.state;\r\n      await auth.login(data.email, data.password);\r\n      window.location = \"/products\";\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404) {\r\n        const errors = { ...this.state.errors };\r\n        errors.email = ex.response.data;\r\n        this.setState({ errors });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <Input\r\n              value={data.email}\r\n              onChange={this.handleChange}\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              error={errors.email}\r\n            />\r\n            <Input\r\n              value={data.password}\r\n              onChange={this.handleChange}\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              error={errors.password}\r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary\" disabled={this.validateForm()}>\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nconst Radio = ({ name, label, value, checked }) => {\r\n  return (\r\n    <div className=\"form-check\">\r\n      <input\r\n        className=\"form-check-input\"\r\n        type=\"radio\"\r\n        name={name}\r\n        value={value}\r\n        id={name}\r\n        checked={checked}\r\n      />\r\n      <label className=\"form-check-label\" htmlFor={name}>\r\n        {label}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Radio;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Input from \"./common/input\";\r\nimport Form from \"./common/form\";\r\nimport Radio from \"./common/radio\";\r\nimport { register } from \"./../services/userService\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass Register extends Form {\r\n  state = {\r\n    data: { name: \"\", email: \"\", password: \"\", role: \"common\" },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    name: Joi.string().required(),\r\n    email: Joi.string().email().required(),\r\n    password: Joi.string().required(),\r\n    role: Joi.string().required(),\r\n  };\r\n\r\n  async doSubmit() {\r\n    try {\r\n      const response = await register(this.state.data);\r\n      auth.loginWithToken(response.headers[\"x-auth-token\"]);\r\n      window.location = \"/\";\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        const errors = { ...this.state.errors };\r\n        errors.email = ex.response.data;\r\n        this.setState({ errors });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Register</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <Input\r\n              value={data.name}\r\n              onChange={this.handleChange}\r\n              name=\"name\"\r\n              label=\"Name:\"\r\n              error={errors.name}\r\n            />\r\n            <Input\r\n              value={data.email}\r\n              onChange={this.handleChange}\r\n              name=\"email\"\r\n              label=\"Email:\"\r\n              error={errors.email}\r\n            />\r\n            <Input\r\n              value={data.password}\r\n              onChange={this.handleChange}\r\n              name=\"password\"\r\n              label=\"Password:\"\r\n              error={errors.password}\r\n            />\r\n            <div className=\"radio\" onChange={this.handleRadioChange}>\r\n              <Radio\r\n                name=\"admin\"\r\n                value=\"admin\"\r\n                label=\"Admin User\"\r\n                checked={data.role === \"admin\"}\r\n              />\r\n              <Radio\r\n                name=\"common\"\r\n                value=\"common\"\r\n                label=\"Common User\"\r\n                checked={data.role === \"common\"}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"btn btn-primary my-2\"\r\n            disabled={this.validateForm()}\r\n          >\r\n            Register\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import http from \"./httpService\";\r\n\r\nconst endpoint = \"/users\";\r\n\r\nexport function register(user) {\r\n  return http.post(endpoint, {\r\n    email: user.email,\r\n    password: user.password,\r\n    name: user.name,\r\n    role: user.role,\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport auth from \"../services/authService\";\r\n\r\nclass Logout extends React.Component {\r\n  componentDidMount() {\r\n    auth.logout();\r\n    window.location = \"/home\";\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default Logout;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Profile extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>User Profile</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return <h1>Page Not Found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport NavBar from \"./components/navbar\";\r\nimport Home from \"./components/home\";\r\nimport Products from \"./components/products\";\r\nimport ProductForm from \"./components/productForm\";\r\nimport LoginForm from \"./components/loginForm\";\r\nimport RegisterForm from \"./components/registerForm\";\r\nimport Logout from \"./components/logout\";\r\nimport Profile from \"./components/profile\";\r\nimport NotFound from \"./components/notFound\";\r\nimport auth from \"./services/authService\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass App extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    const user = auth.getCurrentUser();\r\n    this.setState({ user });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <ToastContainer />\r\n        <NavBar user={this.state.user} />\r\n        <main className=\"container\">\r\n          <Switch>\r\n            <Route path=\"/home\" component={Home} />} />\r\n            <Route path=\"/products/:id\" component={ProductForm} />\r\n            <Route path=\"/products\" component={Products} />\r\n            <Route path=\"/login\" component={LoginForm} />\r\n            <Route path=\"/register\" component={RegisterForm} />\r\n            <Route path=\"/logout\" component={Logout} />\r\n            <Route path=\"/profile\" component={Profile} />\r\n            <Redirect from=\"/\" exact to=\"/home\" />\r\n            <Route path=\"/not-found\" component={NotFound} />\r\n            <Redirect to=\"/not-found\" />\r\n          </Switch>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./app\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"./index.css\";\r\n\r\nconsole.log(process.env);\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}